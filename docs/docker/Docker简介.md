## Docker概述
**Docker**是一个用于开发、发布和运行应用程序的开放平台。Docker使您能够将应用程序与基础设施分开，以便快速交付软件。使用Docker，您可以以管理应用程序的方式管理基础设施。通过利用Docker快速发布、测试和部署代码的方法，您可以显著减少编写代码和在生产环境中运行代码之间的延迟。

**Docker**是基于Go语言实现的云开源项目。基于 `Linux` 内核的 cgroup，namespace，以及 OverlayFS 类的Union FS 等技术，对进程进行封装隔离，属于 操作系统层面的虚拟化技术。由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。最初实现是基于 LXC，从 `0.7` 版本以后开始去除 `LXC`，转而使用自行开发的 libcontainer，从 `1.11` 版本开始，则进一步演进为使用 runC 和 containerd。

## Docker与虚拟机比较

**Docker**和传统虚拟化方式的不同之处：

传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。每个容器之间互相隔离，每个容器有自己的文件系统 ，容器之间进程不会相互影响，能区分计算资源。

**Docker** 在容器的基础上，进行了进一步的封装，从文件系统、网络互联到进程隔离等等，极大的简化了容器的创建和维护。使得 `Docker` 技术比虚拟机技术更为轻便、快捷。

![Virtual Machines](../image/Virtual%20Machines.png)

![Docker](../image/Docker.png)

## Docker可以做什么？

**Docker** 允许开发人员使用提供应用程序和服务的本地容器在标准化环境中工作，从而简化了开发生命周期。

- 开发人员在本地编写代码，并使用Docker容器与同事共享他们的工作。

- 他们使用Docker将应用程序推入测试环境，并执行自动化和手动测试。

- 当开发人员发现bug时，他们可以在开发环境中修复它们，并将它们重新部署到测试环境中进行测试和验证。

- 测试完成后，将修复程序发送给客户就像将更新的映像推送到生产环境一样简单。

## 为什么要用 Docker

###### 更快速的应用交付和部署

对开发和运维（[DevOps](https://zh.wikipedia.org/wiki/DevOps)）人员来说，最希望的就是一次创建或配置，可以在任意地方正常运行。

使用 `Docker` 可以通过定制应用镜像来实现持续集成、持续交付、部署。开发人员可以通过 [Dockerfile]() 来进行镜像构建，并结合 [持续集成(Continuous Integration)](https://en.wikipedia.org/wiki/Continuous_integration) 系统进行集成测试，而运维人员则可以直接在生产环境中快速部署该镜像，甚至结合 [持续部署(Continuous Delivery/Deployment)](https://en.wikipedia.org/wiki/Continuous_delivery) 系统进行自动部署。

而且使用 [`Dockerfile`]() 使镜像构建透明化，不仅仅开发团队可以理解应用运行环境，也方便运维团队理解应用运行所需条件，帮助更好的生产环境中部署该镜像。

###### 更便捷的升级和扩缩容

由于 `Docker` 确保了执行环境的一致性，使得应用的迁移更加容易。`Docker` 可以在很多平台上运行，无论是物理机、虚拟机、公有云、私有云，甚至是笔记本，其运行结果是一致的。因此用户可以很轻易的将在一个平台上运行的应用，迁移到另一个平台上，而不用担心运行环境的变化导致应用无法正常运行的情况。

###### 更简单的系统运维

`Docker` 使用的分层存储以及镜像的技术，使得应用重复部分的复用更为容易，也使得应用的维护更新更加简单，基于基础镜像进一步扩展镜像也变得非常简单。此外，`Docker` 团队同各个开源项目团队一起维护了一大批高质量的 [官方镜像](https://hub.docker.com/search/?type=image&image_filter=official)，既可以直接在生产环境使用，又可以作为基础进一步定制，大大的降低了应用服务的镜像制作成本。

###### 更高效的计算资源利用

由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，`Docker` 对系统资源的利用率更高。无论是应用执行速度、内存损耗或者文件存储速度，都要比传统虚拟机技术更高效。因此，相比虚拟机技术，一个相同配置的主机，往往可以运行更多数量的应用。

## Docker架构

**Docker**使用客户端-服务器架构。Docker客户端与`Docker`守护进程对话，后者负责构建、运行和分发Docker容器。Docker客户端和守护程序可以在同一系统上运行，也可以将Docker客户端连接到远程Docker守护程序。Docker客户端和守护进程通过`UNIX`套接字或网络接口使用`REST API`进行通信。另一个Docker客户端是`Docker Compose`，它允许您处理由一组容器组成的应用程序。

![architecture](../image/architecture.svg)
